{% extends "base.html" %}

{% block title %}Drawing Â· Match Maker{% endblock %}
{% block body_class %}drawing{% endblock %}
{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/drawing.css') }}">
{% endblock %}

{% block intro %}
<p class="intro">Players Drawing</p>
{% endblock %}

{% block content %}
  {% if games %}
    {% set game = games[-1] %}
    <div class="game-info">
      <h2>Game #{{ game.game_no }}</h2>
    </div>

    <!-- Team A -->
    <div class="team-box">
      <span class="player team-a">{{ game.teams[0][0] }}</span>
      <span class="plus">+</span>
      <span class="player team-a">{{ game.teams[0][1] }}</span>
    </div>

    <!-- Vs -->
    <div class="vs">vs</div>

    <!-- Team B -->
    <div class="team-box">
      <span class="player team-b">{{ game.teams[1][0] }}</span>
      <span class="plus">+</span>
      <span class="player team-b">{{ game.teams[1][1] }}</span>
    </div>
  {% else %}
    <p>No games yet. Click <strong>Game On!</strong> to start.</p>
  {% endif %}

  <!-- Buttons -->
  <form method="POST" class="button-row">
    <button type="submit" name="action" value="redraw" class="btn btn-blue" id="redraw-btn">Re-Draw</button>
    <button type="submit" name="action" value="next" class="btn btn-orange">Game On!</button>
  </form>
{% endblock %}

{% block scripts %}
<script>
  // Inject players list into JS (used in drawing.js)
  const players = {{ players|tojson }};
</script>
<script src="{{ url_for('static', filename='js/drawing.js') }}"></script>
{% endblock %}
